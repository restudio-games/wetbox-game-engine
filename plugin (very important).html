---physics 2d---

<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>2d physics (sample)</title>
<style>
  body { margin: 0; overflow: hidden; background: #222; }
  canvas { display: block; margin: auto; background: #eee; }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
canvas.width = 600;
canvas.height = 400;

let ball = {
  x: 100,
  y: 100,
  radius: 20,
  vx: 3,
  vy: 0,
  gravity: 0.5,
  bounceFactor: 0.7
};

const friction = 0.98;

function update() {
  ball.vy += ball.gravity;
  ball.x += ball.vx;
  ball.y += ball.vy;

  if (ball.y + ball.radius > canvas.height) {
    ball.y = canvas.height - ball.radius;
    ball.vy *= -ball.bounceFactor;
    ball.vx *= friction;
  }

  if (ball.x + ball.radius > canvas.width || ball.x - ball.radius < 0) {
    ball.vx *= -1;
    ball.vx *= friction;
  }

  ball.vx *= friction;

  if (Math.abs(ball.vx) < 0.1) ball.vx = 0;
  if (Math.abs(ball.vy) < 0.1 && ball.y + ball.radius >= canvas.height) ball.vy = 0;
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.beginPath();
  ctx.fillStyle = 'tomato';
  ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
  ctx.fill();
  ctx.closePath();
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>


---physics 3d---

<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>physics 3d babylon.js (sample)</title>
<style>
  html, body { width: 100%; height: 100%; margin: 0; overflow: hidden; }
  #renderCanvas { width: 100%; height: 100%; touch-action: none; display: block; }
</style>
</head>
<body>

<canvas id="renderCanvas"></canvas>

<script src="https://cdn.babylonjs.com/babylon.js"></script>
<script src="https://cdn.babylonjs.com/cannon.js"></script>

<script>
  const canvas = document.getElementById("renderCanvas");
  const engine = new BABYLON.Engine(canvas, true);

  const createScene = function () {
    const scene = new BABYLON.Scene(engine);

    scene.enablePhysics(new BABYLON.Vector3(0, -9.81, 0), new BABYLON.CannonJSPlugin());

    const camera = new BABYLON.ArcRotateCamera("camera1", -Math.PI / 2, Math.PI / 3, 10, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);

    const light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(1, 1, 0), scene);

    const ground = BABYLON.MeshBuilder.CreateGround("ground", {width: 10, height: 10}, scene);
    ground.position.y = 0;
    ground.receiveShadows = true;

    ground.physicsImpostor = new BABYLON.PhysicsImpostor(
      ground,
      BABYLON.PhysicsImpostor.BoxImpostor,
      { mass: 0, restitution: 0.9 },
      scene
    );

    const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {diameter: 1}, scene);
    sphere.position.y = 5;

    sphere.physicsImpostor = new BABYLON.PhysicsImpostor(
      sphere,
      BABYLON.PhysicsImpostor.SphereImpostor,
      { mass: 1, restitution: 0.7 },
      scene
    );

    return scene;
  };

  const scene = createScene();

  engine.runRenderLoop(function () {
    scene.render();
  });

  window.addEventListener("resize", function () {
    engine.resize();
  });
</script>

</body>
</html>

---Update 1.0---

You can now create your own custom plugins!

In Update 1.1, we will be adding new built-in plugins.

---#####---
